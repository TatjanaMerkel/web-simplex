<table *ngIf="data">

  <!-- Target function -->
  <tr>
    <td>Z</td>
    <td>=</td>

    <td>
      <input (input)="onTargetVarChanged($event,0)"
             [disabled]="!editable"/>
    </td>
    <td>
      x<sub>1</sub>
    </td>

    <ng-container *ngFor="let _ of targetVars.slice(1); index as v; trackBy: trackByIndex">
      <td>+</td>
      <td>
        <input (input)="onTargetVarChanged($event,v + 1)"
               [disabled]="!editable"/>
      </td>
      <td>
        x<sub>{{v + 2}}</sub>
      </td>
    </ng-container>
  </tr>

  <!-- Constraints -->
  <tr *ngFor="let _ of [].constructor(data!.numberOfConstraints); index as c">
    <td></td>
    <td></td>

    <td>
      <input (input)="onConstraintVarChanged($event, c, 0)"
             [disabled]="!editable"/>
    </td>
    <td>
      x<sub>1</sub>
    </td>

    <ng-container *ngFor="let _ of constraintVars[c].slice(1); index as v; trackBy: trackByIndex">
      <td>+</td>
      <td>
        <input (input)="onConstraintVarChanged($event, c,v + 1)"
               [disabled]="!editable"/>
      </td>
      <td>
        x<sub>{{v + 2}}</sub>
      </td>
    </ng-container>

    <td>â‰¤</td>

    <!-- Boundary vector -->
    <td>
      <input (input)="onConstraintConstantChanged($event, c)"
             [disabled]="!editable"/>
    </td>
  </tr>

</table>

<!-- Button -->

<ng-container *ngIf="editable; then calculate; else edit"></ng-container>
<ng-template #calculate>

  <button class="btn btn-success btn-lg float-right"
          [disabled]="!inputValid"
          (click)="onCalculate()">
    Calculate
  </button>

</ng-template>
<ng-template #edit>

  <button class="btn btn-warning btn-lg float-right"
          (click)="onEdit()">
    Edit
  </button>

</ng-template>
